const e=document.getElementById("generated-number"),n=document.getElementById("score"),t=document.getElementsByTagName("pre")[0];let o=0;n.innerText=o;let l=0;function c(){e.innerText="",l=Math.floor(12*Math.random())+1,e.innerText=l}c();const r=document.getElementById("col-1-btn"),i=document.getElementById("col-2-btn"),d=document.getElementById("col-3-btn"),u=document.getElementById("col-4-btn"),m=document.querySelectorAll("#col-1 .block"),s=document.querySelectorAll("#col-2 .block"),a=document.querySelectorAll("#col-3 .block"),f=document.querySelectorAll("#col-4 .block");let g=[m,s,a,f],E=[],x=[],h=[],T=[],p=[E,x,h,T];function y(){alert("You lose!"),o=0,n.innerText=o,l=null,e.innerText=l,p=[E=[],x=[],h=[],T=[]],t.innerText=`Col 1: ${p[0]},\rCol 2: ${p[1]},\rCol 3: ${p[2]},\rCol 4: ${p[3]}`,g.forEach(e=>{e.forEach(e=>{e.innerText=""})}),c()}function b(e,n){if(!l&&0!==l)return;n.push(l);let o=n.length-1;if(4===o){y();return}e[o].innerText=l;let r=n[o-1],i=g.indexOf(e),d=p[i-1],u=p[i+1],m=d?d[o]:void 0,s=u?u[o]:void 0;if(l+r===13||l+m===13||l+s===13){y();return}let a=l===r,f=l===m,E=l===s;l===r&&(console.log("matches below - score 1 point"),k(),n.pop(o-1)),l===m&&(console.log("matches left - score 1 point"),k(),d=d.splice(o)),l===s&&(console.log("matches right - score 1 point"),k(),u=u.splice(o)),(a||f||E)&&n.pop(),console.log("colValMatrix",p),t.innerText=`Col 1: ${p[0]},\rCol 2: ${p[1]},\rCol 3: ${p[2]},\rCol 4: ${p[3]}`,g.forEach((e,n)=>{e.forEach((e,t)=>{e.innerText=p[n][t]?p[n][t]:""})}),c()}function k(){o+=1,n.innerText=o}r.addEventListener("click",function(e){b(m,E)}),i.addEventListener("click",function(e){b(s,x)}),d.addEventListener("click",function(e){b(a,h)}),u.addEventListener("click",function(e){b(f,T)});